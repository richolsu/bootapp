<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<head>
</head>
<body>
	<div class="container" layout:fragment="content">
		<ul class="breadcrumb">
			<li><a th:href="@{/}"><i class="fa fa-dashboard"></i> 首页</a></li>
			<li><a href="#">基础资料</a></li>
			<li class="active">存货分类</li>
		</ul>
		<div class="panel panel-default">
			<div class="panel-body">
				<div class="row">
					<div class="col-md-6" style="margin-bottom: 20px;">
						<i class="fa fa-sitemap"></i> 存货分类
						<div id="tree_3"></div>
					</div>
					<div class="col-md-6">
						<form>
							<h3>存货分类信息</h3>
							<div class="form-group row">
								<label for="code" class="col-sm-3 col-form-label">存货分类编码:</label>
								<div class="col-sm-9">
									<input type="text" id="code" readonly class="form-control">
								</div>
							</div>
							<div class="form-group row">
								<label for="name" class="col-sm-3 col-form-label">存货分类名称:</label>
								<div class="col-sm-9">
									<input type="text" id="name" readonly class="form-control">
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
</body>
</html>
<script th:inline="javascript">
	var url = /*[[@{/inventoryclass/}]]*/'';
  jQuery(document).ready(function() {
	  jQuery("#tree_3").jstree({
	    core : {
	      check_callback : function(operation, node, node_parent, node_position, more) {

	      },
	      data : function(node, cb) {
		      $.ajax({
			      url : url + (node.id === "#" ? 0 : node.id) + "/children"
		      }).done(function(data) {
			      cb(data);
		      });
	      }
	    },
	    state : {
		    key : "demo1"
	    },
	    plugins : [ "state", "types" ]
	  }).on("select_node.jstree", function(e, data) {
		  $('#code').val(data.node.original.id);
		  $('#name').val(data.node.original.name);
	  });
  });
</script>